
<!--
`<bloombox-embedded-menu>` provides publicly-accessible UI for rendering embedded
menus on 2nd or 3rd party websites.

@group Bloombox Elements
@element bloombox-embedded-menu
@demo demo/index.html
@homepage bloombox.github.io
-->

<link rel="import" href="../iron-list/iron-list.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-toolbar/paper-toolbar.html">
<link rel="import" href="../paper-spinner/paper-spinner-lite.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bloombox-product-list/bloombox-product-entry.html">
<link rel="import" href="./bloombox-item-dialog.html">
<dom-module id="bloombox-embedded-menu" assetpath="/"><template strip-whitespace><style is="custom-style">
:root{--paper-spinner-color: #5fba0c;--paper-tabs-selection-bar-color: #5fba0c;--paper-tab-ink: #5fba0c;--paper-toolbar-background: var(--bloombox-green-primary);
--paper-toolbar-title:{padding-left: 10px;};}:host{border-radius:5px;display:flex;flex-direction:column;overflow:hidden;background:#fefefe;align-items:center;
justify-content:center;height:var(--bloombox-embedded-menu-height, 600px);width:var(--bloombox-embedded-menu-width, 500px);
position:relative;}:host .outer-embedded-menu{background: var(--bloombox-green-primary);display:flex;justify-content:center;
height:var(--bloombox-embedded-menu-height, 600px);width:var(--bloombox-embedded-menu-width, 500px);align-items:center;}
:host .outer-embedded-menu paper-toolbar{position:absolute;top:0;left:0;right:0;}
:host .outer-embedded-menu paper-tabs{position:absolute;top:48px;left:0;right:0;color: #fefefe;}
:host .outer-embedded-menu paper-tabs paper-tab{color: #fefefe;}
:host .outer-embedded-menu paper-tabs paper-tab.iron-selected{color: white;}
:host .product-list-container{display:block;overflow:auto;position:absolute;top:96px;bottom:37px;left:0px;right:0px;
border-bottom:#a3a3a3;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;}
:host .product-list-container bloombox-product-entry{cursor:pointer;height:50px;-webkit-touch-callout:none;-webkit-user-select:none;
-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:white;border-bottom:1px solid #ddd;}
:host #poweredby{font-size:9pt;height:37px;line-height:37px;background:var(--bloombox-green-primary);color:#fefefe;
text-transform:uppercase;padding-left:10px;position:absolute;bottom:0px;left:-1px;right:0;user-select:none;text-align:center;}
:host #poweredby a.bb-brand{text-decoration:none;cursor:pointer;color:#fefefe;}:host #poweredby a.bb-brand :visited, :host #poweredby a.bb-brand :active{color:#fefefe;}:host #poweredby a.bb-brand :hover{color: white !important;}</style><div class="outer-embedded-menu"><paper-spinner-lite active="[[loading]]" hidden="[[!loading]]"></paper-spinner-lite><template is="dom-if" if="[[!loading]]">
<template is="dom-if" if="[[showHeader]]"><paper-toolbar><paper-icon-button icon="search" on-tap="_openSearch"></paper-icon-button><template is="dom-if" if="[[!_searchActive]]"><div class="title">[[title]]</div></template><template is="dom-if" if="[[_searchActive]]"><paper-input></paper-input></template><div class="spacer"></div><paper-icon-button icon="filter-list" on-tap="_openFilters"></paper-icon-button></paper-toolbar></template>
<template is="dom-if" if="[[showTabs]]"><paper-tabs attr-for-item-title="heading" selected="{{section}}" fit-container scrollable attr-for-selected="key"><template is="dom-repeat" items="[[sections]]" as="section"><paper-tab heading="[[section.heading]]" key="[[section.key]]">[[section.heading]]</paper-tab></template></paper-tabs></template><div id="listContainer" class="product-list-container"><iron-list id="productsList" items="[[_products]]" as="product" role="listbox" class="flex layout vertical fit" scroll-target="listContainer"><template><bloombox-product-entry key="[[product.key]]" product="[[product.value]]" section="[[section]]" selected="[[selected]]" partner="[[partner]]" tabindex="[[tabIndex]]" on-tap="showProductDetail"></bloombox-product-entry></template></iron-list></div><div id="poweredby">realtime menu powered by <a href="https://bloombox.io" target="_blank" class="bb-brand">bloombox</span></div></template><bloombox-item-dialog id="detailDialog" section="[[section]]"></bloombox-item-dialog></template><script type="text/javascript" src="bloombox-embedded-menu.js"></script></dom-module>
