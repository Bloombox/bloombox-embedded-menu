/*
 Private source code, all rights reserved.
 @preserve Copyright 2017, Momentum Ideas Co.
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function($target$$,$property$$,$descriptor$$){if($descriptor$$.get||$descriptor$$.set)throw new TypeError("ES3 does not support getters and setters.");$target$$!=Array.prototype&&$target$$!=Object.prototype&&($target$$[$property$$]=$descriptor$$.value)};
$jscomp.getGlobal=function $$jscomp$getGlobal$($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function $$jscomp$initSymbol$(){$jscomp.initSymbol=function $$jscomp$initSymbol$(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function $$jscomp$Symbol$($opt_description$$){return $jscomp.SYMBOL_PREFIX+($opt_description$$||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function $$jscomp$initSymbolIterator$(){$jscomp.initSymbol();var $symbolIterator$$=$jscomp.global.Symbol.iterator;$symbolIterator$$||($symbolIterator$$=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[$symbolIterator$$]&&$jscomp.defineProperty(Array.prototype,$symbolIterator$$,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function $$jscomp$initSymbolIterator$(){}};
$jscomp.arrayIterator=function $$jscomp$arrayIterator$($array$$){var $index$$=0;return $jscomp.iteratorPrototype(function(){return $index$$<$array$$.length?{done:!1,value:$array$$[$index$$++]}:{done:!0}})};$jscomp.iteratorPrototype=function $$jscomp$iteratorPrototype$($iterator$$){$jscomp.initSymbolIterator();$iterator$$={next:$iterator$$};$iterator$$[$jscomp.global.Symbol.iterator]=function $$iterator$$$$jscomp$global$Symbol$iterator$(){return this};return $iterator$$};
$jscomp.polyfill=function $$jscomp$polyfill$($property$jscomp$8_split_target$$,$impl_polyfill$$,$fromLang_obj$$,$i$$){if($impl_polyfill$$){$fromLang_obj$$=$jscomp.global;$property$jscomp$8_split_target$$=$property$jscomp$8_split_target$$.split(".");for($i$$=0;$i$$<$property$jscomp$8_split_target$$.length-1;$i$$++){var $key$$=$property$jscomp$8_split_target$$[$i$$];$key$$ in $fromLang_obj$$||($fromLang_obj$$[$key$$]={});$fromLang_obj$$=$fromLang_obj$$[$key$$]}$property$jscomp$8_split_target$$=$property$jscomp$8_split_target$$[$property$jscomp$8_split_target$$.length-
1];$i$$=$fromLang_obj$$[$property$jscomp$8_split_target$$];$impl_polyfill$$=$impl_polyfill$$($i$$);$impl_polyfill$$!=$i$$&&null!=$impl_polyfill$$&&$jscomp.defineProperty($fromLang_obj$$,$property$jscomp$8_split_target$$,{configurable:!0,writable:!0,value:$impl_polyfill$$})}};
$jscomp.polyfill("Array.from",function($orig$$){return $orig$$?$orig$$:function($arrayLike$$,$opt_mapFn$$,$opt_thisArg$$){$jscomp.initSymbolIterator();$opt_mapFn$$=null!=$opt_mapFn$$?$opt_mapFn$$:function($x$$){return $x$$};var $result$$=[],$iteratorFunction_len_next$$=$arrayLike$$[Symbol.iterator];if("function"==typeof $iteratorFunction_len_next$$)for($arrayLike$$=$iteratorFunction_len_next$$.call($arrayLike$$);!($iteratorFunction_len_next$$=$arrayLike$$.next()).done;)$result$$.push($opt_mapFn$$.call($opt_thisArg$$,
$iteratorFunction_len_next$$.value));else for(var $iteratorFunction_len_next$$=$arrayLike$$.length,$i$$=0;$i$$<$iteratorFunction_len_next$$;$i$$++)$result$$.push($opt_mapFn$$.call($opt_thisArg$$,$arrayLike$$[$i$$]));return $result$$}},"es6-impl","es3");
$jscomp.checkStringArgs=function $$jscomp$checkStringArgs$($thisArg$$,$arg$$,$func$$){if(null==$thisArg$$)throw new TypeError("The 'this' value for String.prototype."+$func$$+" must not be null or undefined");if($arg$$ instanceof RegExp)throw new TypeError("First argument to String.prototype."+$func$$+" must not be a regular expression");return $thisArg$$+""};
$jscomp.polyfill("String.prototype.startsWith",function($orig$$){return $orig$$?$orig$$:function($searchString$$,$i$jscomp$5_opt_position$$){var $string$$=$jscomp.checkStringArgs(this,$searchString$$,"startsWith");$searchString$$+="";var $strLen$$=$string$$.length,$searchLen$$=$searchString$$.length;$i$jscomp$5_opt_position$$=Math.max(0,Math.min($i$jscomp$5_opt_position$$|0,$string$$.length));for(var $j$$=0;$j$$<$searchLen$$&&$i$jscomp$5_opt_position$$<$strLen$$;)if($string$$[$i$jscomp$5_opt_position$$++]!=
$searchString$$[$j$$++])return!1;return $j$$>=$searchLen$$}},"es6-impl","es3");$jscomp.owns=function $$jscomp$owns$($obj$$,$prop$$){return Object.prototype.hasOwnProperty.call($obj$$,$prop$$)};
$jscomp.polyfill("Object.assign",function($orig$$){return $orig$$?$orig$$:function($target$$,$var_args$$){for(var $i$$=1;$i$$<arguments.length;$i$$++){var $source$$=arguments[$i$$];if($source$$)for(var $key$$ in $source$$)$jscomp.owns($source$$,$key$$)&&($target$$[$key$$]=$source$$[$key$$])}return $target$$}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function $$jscomp$iteratorFromArray$($array$$,$transform$$){$jscomp.initSymbolIterator();$array$$ instanceof String&&($array$$+="");var $i$$=0,$iter$$={next:function(){if($i$$<$array$$.length){var $index$$=$i$$++;return{value:$transform$$($index$$,$array$$[$index$$]),done:!1}}$iter$$.next=function $$iter$$$next$(){return{done:!0,value:void 0}};return $iter$$.next()}};$iter$$[Symbol.iterator]=function $$iter$$$Symbol$iterator$(){return $iter$$};return $iter$$};
var common={},DEBUG=!0;window.__debug__=window.__debug=DEBUG;common.logging={};var Severity={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,SEVERE:3};function _formatLogForConsole($module$$,$var_args$$){return"["+$module$$+"]: "+$var_args$$}
function _sendLog($severity$$,$items_module$$,$messages$$){$items_module$$=[_formatLogForConsole($items_module$$,$messages$$[0])].concat($messages$$.slice(1));switch($severity$$){case 0:console.info.apply(console,$items_module$$);break;case 1:console.warn.apply(console,$items_module$$);break;case 2:console.error.apply(console,$items_module$$);break;case 3:console.error.apply(console,$items_module$$);break;default:console.log.apply(console,$items_module$$)}}
function say($module$$,$var_args$$){DEBUG&&_sendLog(Severity.VERBOSE,$module$$,Array.from(arguments).slice(1))}function info($module$$,$var_args$$){_sendLog(Severity.INFO,$module$$,Array.from(arguments).slice(1))}function warn($module$$,$var_args$$){_sendLog(Severity.WARNING,$module$$,Array.from(arguments).slice(1))}function error($module$$,$var_args$$){_sendLog(Severity.ERROR,$module$$,Array.from(arguments).slice(1))}
function severe($module$$,$var_args$$){_sendLog(Severity.SEVERE,$module$$,Array.from(arguments).slice(1))}var Logging={say:say,info:info,warn:warn,error:error,severe:severe};window.Logging=Logging;common.hash={};function HashedItem($algorithm$$,$encoded$$){this.algorithm=$algorithm$$;this.encoded=$encoded$$}var Algorithm={MD5:"MD5",SHA1:"SHA1"};function AlgorithmNotSupported($algorithm$$){this.name="AlgorithmNotSupported";this.message="The selected hash algorithm, '"+$algorithm$$+"', is not supported."}
function hash($subject$$,$callback$$,$opt_algorithm$$){var $crypto$$=window.crypto||window.msCrypto||window.webkitCrypto||!1,$buffer$$;if(!1===$crypto$$){if($opt_algorithm$$&&"MD5"!==$opt_algorithm$$)throw new AlgorithmNotSupported($opt_algorithm$$);$callback$$(new HashedItem(Algorithm.MD5,internalMD5($subject$$)))}else{$buffer$$=(new window.TextEncoder("utf-8")).encode($subject$$);var $algo$$;if($opt_algorithm$$)if("SHA-1"===$opt_algorithm$$)$algo$$="SHA-1";else if("MD5"===$opt_algorithm$$)$algo$$=
"MD5";else throw new AlgorithmNotSupported($opt_algorithm$$);else $algo$$="SHA-1";Logging.say("Hash","Hashing with algorithm: "+$algo$$+".");"MD5"===$algo$$?$callback$$(new HashedItem(Algorithm.MD5,internalMD5($subject$$))):$crypto$$.subtle.digest($algo$$,$buffer$$).then(function($hash$$){$callback$$(new HashedItem($opt_algorithm$$,modernHex($hash$$)))})}}function hex($subject$$){return"DataView"in window?modernHex($subject$$):internalHex($subject$$)}
function internalMD5($subject$$){return internalHex(md51($subject$$))}function modernHex($buffer$jscomp$10_view$$){var $hexCodes$$=[];$buffer$jscomp$10_view$$=new DataView($buffer$jscomp$10_view$$);for(var $i$$=0;$i$$<$buffer$jscomp$10_view$$.byteLength;$i$$+=4){var $paddedValue$$=("00000000"+$buffer$jscomp$10_view$$.getUint32($i$$).toString(16)).slice(-8);$hexCodes$$.push($paddedValue$$)}return $hexCodes$$.join("")}
function _md5cycle($x$$,$k$$){var $a$$=$x$$[0],$b$$=$x$$[1],$c$$=$x$$[2],$d$$=$x$$[3],$a$$=ff($a$$,$b$$,$c$$,$d$$,$k$$[0],7,-680876936),$d$$=ff($d$$,$a$$,$b$$,$c$$,$k$$[1],12,-389564586),$c$$=ff($c$$,$d$$,$a$$,$b$$,$k$$[2],17,606105819),$b$$=ff($b$$,$c$$,$d$$,$a$$,$k$$[3],22,-1044525330),$a$$=ff($a$$,$b$$,$c$$,$d$$,$k$$[4],7,-176418897),$d$$=ff($d$$,$a$$,$b$$,$c$$,$k$$[5],12,1200080426),$c$$=ff($c$$,$d$$,$a$$,$b$$,$k$$[6],17,-1473231341),$b$$=ff($b$$,$c$$,$d$$,$a$$,$k$$[7],22,-45705983),$a$$=ff($a$$,
$b$$,$c$$,$d$$,$k$$[8],7,1770035416),$d$$=ff($d$$,$a$$,$b$$,$c$$,$k$$[9],12,-1958414417),$c$$=ff($c$$,$d$$,$a$$,$b$$,$k$$[10],17,-42063),$b$$=ff($b$$,$c$$,$d$$,$a$$,$k$$[11],22,-1990404162),$a$$=ff($a$$,$b$$,$c$$,$d$$,$k$$[12],7,1804603682),$d$$=ff($d$$,$a$$,$b$$,$c$$,$k$$[13],12,-40341101),$c$$=ff($c$$,$d$$,$a$$,$b$$,$k$$[14],17,-1502002290),$b$$=ff($b$$,$c$$,$d$$,$a$$,$k$$[15],22,1236535329),$a$$=gg($a$$,$b$$,$c$$,$d$$,$k$$[1],5,-165796510),$d$$=gg($d$$,$a$$,$b$$,$c$$,$k$$[6],9,-1069501632),$c$$=
gg($c$$,$d$$,$a$$,$b$$,$k$$[11],14,643717713),$b$$=gg($b$$,$c$$,$d$$,$a$$,$k$$[0],20,-373897302),$a$$=gg($a$$,$b$$,$c$$,$d$$,$k$$[5],5,-701558691),$d$$=gg($d$$,$a$$,$b$$,$c$$,$k$$[10],9,38016083),$c$$=gg($c$$,$d$$,$a$$,$b$$,$k$$[15],14,-660478335),$b$$=gg($b$$,$c$$,$d$$,$a$$,$k$$[4],20,-405537848),$a$$=gg($a$$,$b$$,$c$$,$d$$,$k$$[9],5,568446438),$d$$=gg($d$$,$a$$,$b$$,$c$$,$k$$[14],9,-1019803690),$c$$=gg($c$$,$d$$,$a$$,$b$$,$k$$[3],14,-187363961),$b$$=gg($b$$,$c$$,$d$$,$a$$,$k$$[8],20,1163531501),
$a$$=gg($a$$,$b$$,$c$$,$d$$,$k$$[13],5,-1444681467),$d$$=gg($d$$,$a$$,$b$$,$c$$,$k$$[2],9,-51403784),$c$$=gg($c$$,$d$$,$a$$,$b$$,$k$$[7],14,1735328473),$b$$=gg($b$$,$c$$,$d$$,$a$$,$k$$[12],20,-1926607734),$a$$=hh($a$$,$b$$,$c$$,$d$$,$k$$[5],4,-378558),$d$$=hh($d$$,$a$$,$b$$,$c$$,$k$$[8],11,-2022574463),$c$$=hh($c$$,$d$$,$a$$,$b$$,$k$$[11],16,1839030562),$b$$=hh($b$$,$c$$,$d$$,$a$$,$k$$[14],23,-35309556),$a$$=hh($a$$,$b$$,$c$$,$d$$,$k$$[1],4,-1530992060),$d$$=hh($d$$,$a$$,$b$$,$c$$,$k$$[4],11,1272893353),
$c$$=hh($c$$,$d$$,$a$$,$b$$,$k$$[7],16,-155497632),$b$$=hh($b$$,$c$$,$d$$,$a$$,$k$$[10],23,-1094730640),$a$$=hh($a$$,$b$$,$c$$,$d$$,$k$$[13],4,681279174),$d$$=hh($d$$,$a$$,$b$$,$c$$,$k$$[0],11,-358537222),$c$$=hh($c$$,$d$$,$a$$,$b$$,$k$$[3],16,-722521979),$b$$=hh($b$$,$c$$,$d$$,$a$$,$k$$[6],23,76029189),$a$$=hh($a$$,$b$$,$c$$,$d$$,$k$$[9],4,-640364487),$d$$=hh($d$$,$a$$,$b$$,$c$$,$k$$[12],11,-421815835),$c$$=hh($c$$,$d$$,$a$$,$b$$,$k$$[15],16,530742520),$b$$=hh($b$$,$c$$,$d$$,$a$$,$k$$[2],23,-995338651),
$a$$=ii($a$$,$b$$,$c$$,$d$$,$k$$[0],6,-198630844),$d$$=ii($d$$,$a$$,$b$$,$c$$,$k$$[7],10,1126891415),$c$$=ii($c$$,$d$$,$a$$,$b$$,$k$$[14],15,-1416354905),$b$$=ii($b$$,$c$$,$d$$,$a$$,$k$$[5],21,-57434055),$a$$=ii($a$$,$b$$,$c$$,$d$$,$k$$[12],6,1700485571),$d$$=ii($d$$,$a$$,$b$$,$c$$,$k$$[3],10,-1894986606),$c$$=ii($c$$,$d$$,$a$$,$b$$,$k$$[10],15,-1051523),$b$$=ii($b$$,$c$$,$d$$,$a$$,$k$$[1],21,-2054922799),$a$$=ii($a$$,$b$$,$c$$,$d$$,$k$$[8],6,1873313359),$d$$=ii($d$$,$a$$,$b$$,$c$$,$k$$[15],10,-30611744),
$c$$=ii($c$$,$d$$,$a$$,$b$$,$k$$[6],15,-1560198380),$b$$=ii($b$$,$c$$,$d$$,$a$$,$k$$[13],21,1309151649),$a$$=ii($a$$,$b$$,$c$$,$d$$,$k$$[4],6,-145523070),$d$$=ii($d$$,$a$$,$b$$,$c$$,$k$$[11],10,-1120210379),$c$$=ii($c$$,$d$$,$a$$,$b$$,$k$$[2],15,718787259),$b$$=ii($b$$,$c$$,$d$$,$a$$,$k$$[9],21,-343485551);$x$$[0]=add32($a$$,$x$$[0]);$x$$[1]=add32($b$$,$x$$[1]);$x$$[2]=add32($c$$,$x$$[2]);$x$$[3]=add32($d$$,$x$$[3])}
function cmn($q$$,$a$$,$b$$,$x$$,$s$$,$t$$){$a$$=add32(add32($a$$,$q$$),add32($x$$,$t$$));return add32($a$$<<$s$$|$a$$>>>32-$s$$,$b$$)}function ff($a$$,$b$$,$c$$,$d$$,$x$$,$s$$,$t$$){return cmn($b$$&$c$$|~$b$$&$d$$,$a$$,$b$$,$x$$,$s$$,$t$$)}function gg($a$$,$b$$,$c$$,$d$$,$x$$,$s$$,$t$$){return cmn($b$$&$d$$|$c$$&~$d$$,$a$$,$b$$,$x$$,$s$$,$t$$)}function hh($a$$,$b$$,$c$$,$d$$,$x$$,$s$$,$t$$){return cmn($b$$^$c$$^$d$$,$a$$,$b$$,$x$$,$s$$,$t$$)}
function ii($a$$,$b$$,$c$$,$d$$,$x$$,$s$$,$t$$){return cmn($c$$^($b$$|~$d$$),$a$$,$b$$,$x$$,$s$$,$t$$)}
function md51($s$$){var $n$$=$s$$.length,$state$$=[1732584193,-271733879,-1732584194,271733878],$i$$;for($i$$=64;$i$$<=$s$$.length;$i$$+=64)_md5cycle($state$$,md5blk($s$$.substring($i$$-64,$i$$)));$s$$=$s$$.substring($i$$-64);var $tail$$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for($i$$=0;$i$$<$s$$.length;$i$$++)$tail$$[$i$$>>2]|=$s$$.charCodeAt($i$$)<<($i$$%4<<3);$tail$$[$i$$>>2]|=128<<($i$$%4<<3);if(55<$i$$)for(_md5cycle($state$$,$tail$$),$i$$=0;16>$i$$;$i$$++)$tail$$[$i$$]=0;$tail$$[14]=8*$n$$;_md5cycle($state$$,
$tail$$);return $state$$}function md5blk($s$$){var $md5blks$$=[],$i$$;for($i$$=0;64>$i$$;$i$$+=4)$md5blks$$[$i$$>>2]=$s$$.charCodeAt($i$$)+($s$$.charCodeAt($i$$+1)<<8)+($s$$.charCodeAt($i$$+2)<<16)+($s$$.charCodeAt($i$$+3)<<24);return $md5blks$$}var hex_chr="0123456789abcdef".split("");function rhex($n$$){for(var $s$$="",$j$$=0;4>$j$$;$j$$++)$s$$+=hex_chr[$n$$>>8*$j$$+4&15]+hex_chr[$n$$>>8*$j$$&15];return $s$$}
function internalHex($x$$){for(var $i$$=0;$i$$<$x$$.length;$i$$++)$x$$[$i$$]=rhex($x$$[$i$$]);return $x$$.join("")}function add32($a$$,$b$$){return $a$$+$b$$&4294967295}function add32Alt($x$$,$y$$){var $lsw$$=($x$$&65535)+($y$$&65535);return($x$$>>16)+($y$$>>16)+($lsw$$>>16)<<16|$lsw$$&65535}"5d41402abc4b2a76b9719d911017c592"!==internalMD5("hello")&&(add32=add32Alt);window.hash=hash;window.Algorithm=Algorithm;window.HashedItem=HashedItem;common.state={};var authStateKey="bb:auth:token",authFingerprintKey="bb:auth:fingerprint";common.auth={};var AuthCookieName="k9a",AuthCookiePath="/",AuthCookieMaxAge=3300,AuthContextPayload,AuthorizationState,TokenPayload,PersonName,CredentialPayload,User,Ticket,SessionKey,SessionTicket,EnrollmentTicket,TicketState,TicketRPCPayload,TicketRPC,AuthURLParamSet,AuthEngine={GFB:"gfb",GITKIT:"gitkit"};
function decodeAuthRedirectParams(){var $components_state$$,$fingerprint$$,$gathered$$={};$components_state$$=(window.location&&window.location.search?window.location.search:"").replace("?","").replace("&amp","&").split("&").filter(function($block$$){return!!$block$$.length}).map(function($block$$){$block$$=$block$$.split("=");return{k:$block$$[0],v:$block$$[1]}});return 0<$components_state$$.length?($components_state$$.map(function($block$$){$gathered$$[$block$$.k]=$block$$.v}),$components_state$$=
$gathered$$.state||null,$fingerprint$$=$gathered$$.fingerprint||null,{state:$components_state$$,fingerprint:$fingerprint$$}):null}function decodeAuthRedirectState($state$$){$state$$=atob($state$$);return JSON.parse($state$$)}
function extractCredential($credential$jscomp$3_providerId$$){if($credential$jscomp$3_providerId$$&&$credential$jscomp$3_providerId$$.provider){var $providerId$0$$=$credential$jscomp$3_providerId$$.provider;if("string"===typeof $providerId$0$$)return{provider:$providerId$0$$}}$credential$jscomp$3_providerId$$=$credential$jscomp$3_providerId$$&&$credential$jscomp$3_providerId$$.provider?$credential$jscomp$3_providerId$$.provider:"internal";Logging.say("Auth","User authenticated with provider: ",$credential$jscomp$3_providerId$$);
return{provider:$credential$jscomp$3_providerId$$}}function persistAuthSession($auth$$,$session$$,$fingerprint$$){var $encodedConfig$$=btoa(JSON.stringify({auth:$auth$$,session:$session$$}));Logging.say("Auth","Persisting user session locally.",{auth:$auth$$,session:$session$$,fingerprint:$fingerprint$$});window.sessionStorage.setItem(authStateKey,$encodedConfig$$);window.sessionStorage.setItem(authFingerprintKey,$fingerprint$$.encoded)}
function persistAuthCookie($ticket$$,$session$$,$callback$$){var $location$$=window.location,$origin$$=$location$$.origin?$location$$.origin:null,$domainValue$$=null!==$origin$$?$origin$$.split(":")[1].split("//")[1]:null,$encodedValue$$,$cookieItems$$,$encodedCookie$$,$packedCookie$$;$encodedValue$$=[$session$$.session,$ticket$$.ts,$session$$.expiration].join("::");hash($encodedValue$$,function($hashedItem$$){$packedCookie$$=btoa($encodedValue$$+"."+$hashedItem$$.encoded).replace(/\=/g,"");$cookieItems$$=
[AuthCookieName+"="+$packedCookie$$,"max-age="+AuthCookieMaxAge.toString(),"path="+AuthCookiePath];null!==$origin$$&&null!==$domainValue$$&&$cookieItems$$.push("domain="+$domainValue$$);-1!==window.location.protocol.indexOf("https")&&$cookieItems$$.push("Secure");$cookieItems$$.push("Host-Only");$cookieItems$$.push("SameSite=Strict");Logging.say("Auth","Persisting auth cookie.",$cookieItems$$);$encodedCookie$$=$cookieItems$$.join("; ");document.cookie=$encodedCookie$$;$callback$$()})}
function loadAuthSession(){var $encodedConfig$$=window.sessionStorage.getItem(authStateKey);if($encodedConfig$$&&0<$encodedConfig$$.length)return Logging.say("Auth","Loading persisted user session."),JSON.parse(atob($encodedConfig$$));Logging.say("Auth","No persisted user session.");return null}
function encodeAuthRedirectParams($token$$,$refresh$$,$xsrf$$,$timestamp$$,$callback$$){var $materializedURIState$$={t:$token$$,r:$refresh$$,x:$xsrf$$,s:$timestamp$$},$encodedURIState$$=btoa(JSON.stringify($materializedURIState$$)).replace(/\=/g,"");hash($encodedURIState$$,function($hashedItem$$){var $encodedURLParams$$=[["state",$encodedURIState$$],["fingerprint",$hashedItem$$.encoded]].map(function($paramBlock$$){return $paramBlock$$.join("=")}).join("&");Logging.say("Auth","Encoded URL parameters.",
{materialized:$materializedURIState$$,payload:$encodedURIState$$,params:$encodedURLParams$$});$callback$$($encodedURLParams$$,$hashedItem$$)})}
function encodeAuthRPCParams($encodedPayload_token$$,$refresh$$,$xsrf$$,$timestamp$$,$callback$$){var $materializedPayload$$={token:$encodedPayload_token$$,refresh:$refresh$$,xsrf:$xsrf$$,timestamp:$timestamp$$};$encodedPayload_token$$=JSON.stringify($materializedPayload$$);hash($encodedPayload_token$$,function($hashedItem$$){$callback$$({ticket:$materializedPayload$$,fingerprint:$hashedItem$$.encoded},$hashedItem$$)})}
function decodeAuthRedirect(){var $paramSpec$$=decodeAuthRedirectParams();return null!==$paramSpec$$?decodeAuthRedirectState($paramSpec$$.state):null};common.polymer={};var webComponentsShim="/assets/scripts/lib/components.js";
function setupPolymer($callback$$){if("registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template"))Logging.say("Common:Polymer","User agent natively supports Web Components."),$callback$$();else{Logging.say("Common:Polymer","Loading Web Components support.");var $e$$=document.createElement("script");$e$$.src=webComponentsShim;$e$$.onload=function $$e$$$onload$(){$callback$$()};document.head.appendChild($e$$)}};common.api={};function prepare($api_method$$,$methodName$$,$props$$,$payload$$){$api_method$$=window.gapi.client[$api_method$$][$methodName$$];return $payload$$?$api_method$$($props$$,$payload$$):$api_method$$($props$$)}function RPC($api$$,$method$$,$props$$,$opt_payload$$){this.api=$api$$;this.method=$method$$;this.props=$props$$||{};this.payload=$opt_payload$$||null;this.promise=prepare($api$$,$method$$,$props$$,this.payload)}
RPC.prototype.then=function $RPC$$then$($cbk$$,$err$$){var $that$$=this;this.promise.then(function($response$$){null!==$response$$&&200===$response$$.status?(Logging.say("API","Received response for RPC.",{rpc:$that$$,response:$response$$}),$cbk$$($response$$)):(Logging.error("API","Received empty or invalid response for RPC.",{rpc:$that$$,response:$response$$}),$err$$(null))},function($reason$$){Logging.error("API","Received error response for RPC.",{rpc:$that$$,reason:$reason$$});$err$$($reason$$)});
return this.promise};window.RPC=RPC;common.ui={};function _performClassOp($classList_el$$,$op$$,$classString$$){$classList_el$$=$classList_el$$.classList?$classList_el$$.classList:null;if(null!==$classList_el$$)$classList_el$$[$op$$]($classString$$)}function _performDoubleClassOp($el$$,$firstOp$$,$secondOp$$,$firstState$$,$secondState$$){_performClassOp($el$$,$firstOp$$,$firstState$$);_performClassOp($el$$,$secondOp$$,$secondState$$)}function disable($el$$){_performClassOp($el$$,"add","hidden")}
function enable($el$$){_performClassOp($el$$,"remove","hidden")}function hide($el$$){_performDoubleClassOp($el$$,"add","remove","not-ready","ready")}function show($el$$){_performDoubleClassOp($el$$,"remove","add","not-ready","ready")}
function resolveSimple($nodeList_nodeList$1_spec$$){return $nodeList_nodeList$1_spec$$&&"string"===typeof $nodeList_nodeList$1_spec$$?$nodeList_nodeList$1_spec$$.startsWith("#")?document.getElementById($nodeList_nodeList$1_spec$$.substr(1)):($nodeList_nodeList$1_spec$$=$nodeList_nodeList$1_spec$$.startsWith(".")?document.getElementsByClassName($nodeList_nodeList$1_spec$$.substr(1)):document.getElementsByTagName($nodeList_nodeList$1_spec$$.substr(1)))&&0<$nodeList_nodeList$1_spec$$.length?$nodeList_nodeList$1_spec$$.item(0):
null:$nodeList_nodeList$1_spec$$?$nodeList_nodeList$1_spec$$:null};var embed={base:{}},globalEmbedProperty="__bbembed__",globalAPIProperty="bloombox",globalAutobootID="bbembed",autobootApiKeyAttribute="data-bloombox-apikey",autobootTitleAttribute="data-bloombox-title",autobootPartnerAttribute="data-bloombox-partner",autobootLocationAttribute="data-bloombox-location",autobootSelectorAttribute="data-bloombox-selector",autobootSectionAttribute="data-bloombox-section",autobootHideTabsAttribute="data-bloombox-hide-tabs",autobootHideHeaderAttribute="data-bloombox-hide-header",
autobootSortModeAttribute="data-bloombox-sort-mode",embeddedComponentName="bloombox-embedded-menu",embeddedComponentVersion="v1",googleClientLink="https://apis.google.com/js/client.js",assetDomain=-1!==window.location.href.indexOf("localhost:")?"":"https://app.bloomware.media",apiDomain="api.bloombox.io",dataDomain=assetDomain,globalEmbeddedMenuComponentLink=assetDomain+"/assets/scripts/lib/embed/bundled.opt.html",globalEmbeddedMenuScriptLink=assetDomain+"/assets/scripts/lib/embed/component.opt.js",
EmbedState,EmbedConfig,EmbedObject;var defaultEmbeddedConfig={apikey:null,partner:null,location:null,version:embeddedComponentVersion,component:globalEmbeddedMenuComponentLink,logic:globalEmbeddedMenuScriptLink,entrypoint:embeddedComponentName,defer:!1},bloomboxEmbedState={state:{node:null,js:!1,html:!1,entrypoint:null},config:Object.assign({},defaultEmbeddedConfig)};
function MissingEmbedConfig($property$$){this.name="MissingEmbedConfig";this.message="Embedded menu cannot be shown, a required configuration property, '"+$property$$+"', could not be located."}
function _loadIfAPIIsReady($callback$$,$config$$,$windowState$$){var $gapi$$=window.gapi,$body$$=document.body,$head$$=document.head;if("client"in $gapi$$&&"init"in $gapi$$.client){var $scriptElement$$=document.createElement("script");$scriptElement$$.setAttribute("type","text/javascript");$scriptElement$$.setAttribute("src",$config$$.logic);$gapi$$.client.init({apiKey:$config$$.apikey,discoveryDocs:["https://"+apiDomain+"/discovery/v1/apis/embed/v1/rest"]}).then(function(){var $linkElement$$=document.createElement("link");
$linkElement$$.setAttribute("rel","import");$linkElement$$.setAttribute("href",$config$$.component);$linkElement$$.addEventListener("load",function(){DEBUG&&Logging.say("Embed","Loaded component HTML.");$windowState$$.html=!0;$scriptElement$$.addEventListener("load",function(){DEBUG&&Logging.say("Embed","Loaded component JS.");$windowState$$.js=!0;$callback$$()},!1);!0===$config$$.defer?($scriptElement$$.setAttribute("async","async"),$scriptElement$$.setAttribute("defer","defer"),$body$$.appendChild($scriptElement$$)):
$head$$.appendChild($scriptElement$$)},!1);!0===$config$$.defer?$body$$.appendChild($linkElement$$):$head$$.appendChild($linkElement$$)})}else setTimeout(function(){_loadIfAPIIsReady($callback$$,$config$$,$windowState$$)},50)}
function installWidgetry($clientScriptElement_target$$,$config$$,$callback$$){var $head$$=document.head,$body$$=document.body,$windowState$$=$clientScriptElement_target$$[globalEmbedProperty];$clientScriptElement_target$$=document.createElement("script");$clientScriptElement_target$$.setAttribute("type","text/javascript");$clientScriptElement_target$$.setAttribute("src",googleClientLink);$clientScriptElement_target$$.addEventListener("load",function(){DEBUG&&Logging.say("Embed","Loaded Google API client.");
_loadIfAPIIsReady($callback$$,$config$$,$windowState$$)});!0===$config$$.defer?($clientScriptElement_target$$.setAttribute("async","async"),$clientScriptElement_target$$.setAttribute("defer","defer"),$body$$.appendChild($clientScriptElement_target$$)):$head$$.appendChild($clientScriptElement_target$$)}
function _checkStateAndMaybeLoad($target$$,$callback$$,$timeout$$){var $widgetState$$=$target$$[globalEmbedProperty];!0===$widgetState$$.js&&!0===$widgetState$$.html?setTimeout(function(){$callback$$()},0):0<$timeout$$&&setTimeout(function(){_checkStateAndMaybeLoad($target$$,$callback$$,$timeout$$)},$timeout$$)}function _validString($subject$$){return"string"===typeof $subject$$&&1<$subject$$.length}
function validateConfig($config$$){if(!$config$$.apikey||!_validString($config$$.apikey))throw new MissingEmbedConfig("apikey");if(!$config$$.partner||!_validString($config$$.partner))throw new MissingEmbedConfig("partner");if(!$config$$.location||!_validString($config$$.location))throw new MissingEmbedConfig("location");}
function setup($target$$,$node$$,$userConfig$$){var $config$$=Object.assign({},bloomboxEmbedState.config,$userConfig$$||{});DEBUG&&Logging.info("Embed","Setting up Bloombox embed layer.",{target:$target$$,config:$config$$,node:$node$$});$target$$[globalEmbedProperty]=Object.assign({},bloomboxEmbedState);"Polymer"in $target$$||($target$$.Polymer={dom:"shadow",lazyRegister:!0});var $targetNode$$=resolveSimple($node$$);DEBUG&&Logging.say("Embed","Resolved target node.",{node:$targetNode$$});$target$$[globalEmbedProperty].state.node=
$targetNode$$;setupPolymer(function(){DEBUG&&Logging.say("Embed","Polymer layer ready. Installing widget code...",$config$$);installWidgetry($target$$,$config$$,function(){var $el$$=document.createElement($config$$.entrypoint);validateConfig($config$$);$el$$.setAttribute("partner",$config$$.partner);$el$$.setAttribute("location",$config$$.location);$el$$.setAttribute("apikey",$config$$.apikey);$el$$.setAttribute("title",$config$$.title||"Menu");$el$$.setAttribute("sort-mode",$config$$.sortMode||"PRICE");
$config$$.section&&$el$$.setAttribute("section",$config$$.section);!0===$config$$.tabs&&$el$$.setAttribute("show-tabs","true");!0===$config$$.header&&$el$$.setAttribute("show-header","true");DEBUG&&Logging.info("Embed","Embed system is ready.",{config:$config$$,component:$el$$,target:$target$$});$targetNode$$.innerHTML="";setTimeout(function(){Polymer.dom($targetNode$$).appendChild($el$$)},0)})})}function init($node$$,$config$$){setup(window,$node$$,$config$$)}
function autoboot($scriptElement$$){try{if($scriptElement$$){var $apikey$$=$scriptElement$$.getAttribute(autobootApiKeyAttribute),$partnerId$$=$scriptElement$$.getAttribute(autobootPartnerAttribute),$locationId$$=$scriptElement$$.getAttribute(autobootLocationAttribute),$selectorId$$=$scriptElement$$.getAttribute(autobootSelectorAttribute),$section$$=$scriptElement$$.getAttribute(autobootSectionAttribute),$hideTabs$$=$scriptElement$$.hasAttribute(autobootHideTabsAttribute),$sortMode$$=$scriptElement$$.getAttribute(autobootSortModeAttribute),
$hideHeader$$=$scriptElement$$.hasAttribute(autobootHideHeaderAttribute),$titleValue$$=$scriptElement$$.getAttribute(autobootTitleAttribute);_validString($apikey$$)&&_validString($partnerId$$)&&_validString($locationId$$)&&_validString($selectorId$$)&&setTimeout(function(){init($selectorId$$,{apikey:$apikey$$,partner:$partnerId$$,location:$locationId$$,defer:!0,tabs:!0!==$hideTabs$$,section:$section$$?$section$$:null,sortMode:$sortMode$$,header:!0!==$hideHeader$$,title:$titleValue$$?$titleValue$$:
"Menu"})},0)}}catch($err$$){DEBUG&&Logging.say("Embed","Autoboot failed to proceed. Continuing.",$err$$)}}window[globalAPIProperty]={init:init};window.__bb_debug=DEBUG;autoboot(document.getElementById(globalAutobootID));
